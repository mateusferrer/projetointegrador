package sistema.visao.entidadeimport javax.faces.model.SelectItemimport javax.inject.Injectimport javax.inject.Namedimport org.springframework.context.annotation.Scopeimport sistema.infra.formularios.GListaDetalheFrmimport sistema.negocio.aplicacao.entidade.EntidadeBeanimport sistema.negocio.dominio.Usuarioimport sistema.negocio.dominio.entidade.Entidadeimport sistema.negocio.enums.TipoEntidadeimport sistema.negocio.enums.UFimport com.forj.cirrus.infra.exceptions.NegocioExceptionimport com.forj.cirrus.infra.spring.Escopoimport com.forj.cirrus.util.WebUtils/** * Gerenciador de formulários GUI JSF de manutenção de <b>Entidade</b>. * @version 1.0 - 26/05/2016 * @since 16/05/2016 */@Named@Scope(Escopo.SESSION)class EntidadeFrm extends GListaDetalheFrm<Entidade> {	/** Listagem do combo de seleção do status. **/	List<SelectItem> cmboTipoIgreja	/** Armazena o gerenciador dos processos de negócio. **/	@Inject	EntidadeBean bean	/** Armazena o nome da entidade para filtragem. **/	String nomeEntidade	/** Construtor padrão. **/	EntidadeFrm() {		titulo = "Manutenção de Entidades"		dominio = new Entidade()	}	/** Preenche a combo de tipos de igreja. */	private void preencherCmboTipoIgreja() {		cmboTipoIgreja = new ArrayList<>()		cmboTipoIgreja.add(new SelectItem(TipoEntidade.M, TipoEntidade				.getInstance(TipoEntidade.M)))		cmboTipoIgreja.add(new SelectItem(TipoEntidade.F, TipoEntidade				.getInstance(TipoEntidade.F)))	}	/** Preenche a combo de UF. */	UF[] getUFs() {		UF.values()	}	/** {@inheritDoc} */	@Override	public void pesquisar() {		try {			colecao = bean.get(nomeEntidade)		} catch (NegocioException e) {			gerarErrosRia(e)		}	}	/** {@inheritDoc} */	@Override	String gravar() {		Usuario usuario = (Usuario) WebUtils.getSession().getAttribute(				"usuarioLogado")		dominio.setUsuario(usuario.getNome())		super.gravar()	}	/** {@inheritDoc} */	@Override	String novo() {		preencherCmboTipoIgreja()		super.novo()	}}